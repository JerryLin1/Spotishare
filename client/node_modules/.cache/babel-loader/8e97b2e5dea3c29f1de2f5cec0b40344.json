{"ast":null,"code":"import _createClass from\"C:\\\\Users\\\\Tiezh\\\\Desktop\\\\Spotishare\\\\node_modules\\\\@babel\\\\runtime\\\\helpers\\\\esm\\\\createClass.js\";import _classCallCheck from\"C:\\\\Users\\\\Tiezh\\\\Desktop\\\\Spotishare\\\\node_modules\\\\@babel\\\\runtime\\\\helpers\\\\esm\\\\classCallCheck.js\";import _inherits from\"C:\\\\Users\\\\Tiezh\\\\Desktop\\\\Spotishare\\\\node_modules\\\\@babel\\\\runtime\\\\helpers\\\\esm\\\\inherits.js\";import _createSuper from\"C:\\\\Users\\\\Tiezh\\\\Desktop\\\\Spotishare\\\\node_modules\\\\@babel\\\\runtime\\\\helpers\\\\esm\\\\createSuper.js\";import React from\"react\";import io from\"socket.io-client\";var Client=/*#__PURE__*/function(_React$Component){_inherits(Client,_React$Component);var _super=_createSuper(Client);function Client(props){var _this;_classCallCheck(this,Client);_this=_super.call(this,props);_this.pushURL=function(id){_this.props.match.history.push(\"/\"+id);};_this.redirectURL=function(id){_this.props.match.history.replace(\"/\"+id);};_this.createRoom=function(){_this.socket.emit(\"createRoom\");};_this.joinRoom=function(roomId){_this.roomId=roomId;_this.socket.emit(\"joinRoom\",{roomId:roomId});};_this.sendMessage=function(msg){if(msg!=\"\"){_this.socket.emit(\"sendMessage\",msg);}};_this.socket=io();// Redirect URL when client joins/creates room\n_this.socket.on(\"redirect\",function(id){_this.roomId=id;_this.pushURL(id);});_this.socket.on(\"updateClientList\",function(clients){_this.clientsInRoom=clients;});return _this;}return _createClass(Client);}(React.Component);export{Client as default};","map":{"version":3,"sources":["C:/Users/Tiezh/Desktop/Spotishare/client/src/client.js"],"names":["React","io","Client","props","pushURL","id","match","history","push","redirectURL","replace","createRoom","socket","emit","joinRoom","roomId","sendMessage","msg","on","clients","clientsInRoom","Component"],"mappings":"ofAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,MAAOC,CAAAA,EAAP,KAAe,kBAAf,C,GAEqBC,CAAAA,M,4GACjB,gBAAYC,KAAZ,CAAmB,wCACf,uBAAMA,KAAN,EADe,MAenBC,OAfmB,CAeT,SAACC,EAAD,CAAQ,CACd,MAAKF,KAAL,CAAWG,KAAX,CAAiBC,OAAjB,CAAyBC,IAAzB,CAA8B,IAAMH,EAApC,EACH,CAjBkB,OAmBnBI,WAnBmB,CAmBL,SAACJ,EAAD,CAAQ,CAClB,MAAKF,KAAL,CAAWG,KAAX,CAAiBC,OAAjB,CAAyBG,OAAzB,CAAiC,IAAML,EAAvC,EACH,CArBkB,OAuBnBM,UAvBmB,CAuBN,UAAM,CACf,MAAKC,MAAL,CAAYC,IAAZ,CAAiB,YAAjB,EACH,CAzBkB,OA2BnBC,QA3BmB,CA2BR,SAACC,MAAD,CAAY,CACnB,MAAKA,MAAL,CAAcA,MAAd,CACA,MAAKH,MAAL,CAAYC,IAAZ,CAAiB,UAAjB,CAA6B,CACzBE,MAAM,CAAEA,MADiB,CAA7B,EAGH,CAhCkB,OAkCnBC,WAlCmB,CAkCL,SAACC,GAAD,CAAS,CACnB,GAAIA,GAAG,EAAI,EAAX,CAAe,CACX,MAAKL,MAAL,CAAYC,IAAZ,CAAiB,aAAjB,CAAgCI,GAAhC,EACH,CACJ,CAtCkB,CAEf,MAAKL,MAAL,CAAcX,EAAE,EAAhB,CAEA;AACA,MAAKW,MAAL,CAAYM,EAAZ,CAAe,UAAf,CAA2B,SAACb,EAAD,CAAQ,CAC/B,MAAKU,MAAL,CAAcV,EAAd,CACA,MAAKD,OAAL,CAAaC,EAAb,EACH,CAHD,EAKA,MAAKO,MAAL,CAAYM,EAAZ,CAAe,kBAAf,CAAmC,SAACC,OAAD,CAAa,CAC5C,MAAKC,aAAL,CAAqBD,OAArB,CACH,CAFD,EAVe,aAalB,C,8BAd+BnB,KAAK,CAACqB,S,SAArBnB,M","sourcesContent":["import React from \"react\";\nimport io from \"socket.io-client\";\n\nexport default class Client extends React.Component {\n    constructor(props) {\n        super(props);\n        this.socket = io();\n\n        // Redirect URL when client joins/creates room\n        this.socket.on(\"redirect\", (id) => {\n            this.roomId = id;\n            this.pushURL(id);\n        });\n\n        this.socket.on(\"updateClientList\", (clients) => {\n            this.clientsInRoom = clients;\n        });\n    }\n\n    pushURL = (id) => {\n        this.props.match.history.push(\"/\" + id);\n    };\n\n    redirectURL = (id) => {\n        this.props.match.history.replace(\"/\" + id);\n    };\n\n    createRoom = () => {\n        this.socket.emit(\"createRoom\");\n    };\n\n    joinRoom = (roomId) => {\n        this.roomId = roomId;\n        this.socket.emit(\"joinRoom\", {\n            roomId: roomId,\n        });\n    };\n\n    sendMessage = (msg) => {\n        if (msg != \"\") {\n            this.socket.emit(\"sendMessage\", msg);\n        }\n    };\n}\n"]},"metadata":{},"sourceType":"module"}